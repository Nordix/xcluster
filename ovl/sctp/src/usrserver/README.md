# usrserver - A user-space sctp server built with usrsctp

The `usrserver` is a slightly modified
[echo_server.c](https://github.com/sctplab/usrsctp/blob/master/programs/echo_server.c)
built with the [usrsctp](https://github.com/sctplab/usrsctp) library.

Modifications;

* Stdout and stderr are line-buffered
* A user defined `vtag` can be specified (requires a patch in usrsctp)

```
Usage: usrserver <vtag> [local_encaps_port] [remote_encaps_port]
```

If vtag=0 the vtag is generated by `usrsctp` as usual.

## Build

First the [usrsctp](https://github.com/sctplab/usrsctp) must be cloned
and patched and installed locally;

```
git clone --depth 1 https://github.com/sctplab/usrsctp.git
cd usrsctp
patch -p1 < /your/path/to/ovl/sctp/src/usrserver/usrsctp.diff
./bootstrap
./configure --disable-shared
make -j$(nproc)
make DESTDIR=/tmp/$USER/usrsctp install
```

Then build `usrserver` with;
```
cd /your/path/to/ovl/sctp/src/usrserver
make
```
